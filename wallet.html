<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Wallet</title>
    <style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');body{font-family:'Inter',sans-serif;background-color:#121212;color:#EAEAEA;margin:0;padding-top:60px;padding-bottom:80px}.header{position:fixed;top:0;left:0;right:0;display:flex;align-items:center;justify-content:center;padding:1rem;background-color:#1E1E1E;border-bottom:1px solid #333333;z-index:10;height:60px;box-sizing:border-box}.header h1{font-size:1.125rem;font-weight:600;color:#FFFFFF;margin:0}.header .icon-btn{position:absolute;left:1rem;color:#A0A0A0;background:0 0;border:none;cursor:pointer}.header .icon-btn svg{width:24px;height:24px}.sidebar{position:fixed;top:0;left:-300px;width:280px;height:100%;background-color:#1E1E1E;z-index:100;transition:left .3s ease;padding:1.5rem;box-sizing:border-box;border-right:1px solid #333}.sidebar.open{left:0}.sidebar-header{font-size:1.5rem;font-weight:700;color:#FFFFFF;margin-bottom:2rem}.sidebar-nav a{display:flex;align-items:center;gap:1rem;color:#A0A0A0;text-decoration:none;padding:.75rem;border-radius:.5rem;margin-bottom:.5rem;font-weight:500;transition:background-color .2s,color .2s}.sidebar-nav a:hover{background-color:#333333;color:#FFFFFF}.sidebar-nav svg{width:24px;height:24px}.sidebar-footer{margin-top:auto}.sidebar-footer button{width:100%;background-color:#F97316;color:#FFFFFF;border:none;padding:.75rem;border-radius:.5rem;font-weight:600;cursor:pointer}.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99;opacity:0;visibility:hidden;transition:opacity .3s ease}.overlay.visible{opacity:1;visibility:visible}.bottom-nav{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-around;padding:.5rem 0;background-color:#1E1E1E;border-top:1px solid #333333;z-index:10}.nav-item{display:flex;flex-direction:column;align-items:center;color:#A0A0A0;text-decoration:none;padding:0 1rem}.nav-item.active{color:#F97316}.nav-item svg{width:24px;height:24px}.nav-item span{font-size:.75rem;margin-top:4px}main{padding:1.5rem}.balance-section{text-align:center}.balance-section .label{font-size:1rem;color:#A0A0A0}.balance-section .amount{font-size:2.5rem;font-weight:700;color:#FFFFFF;margin-top:.5rem}.actions-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:1.5rem}.btn{width:100%;padding:1rem;border:none;border-radius:.75rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background-color .2s;text-decoration:none;text-align:center;box-sizing:border-box}.btn-primary{background-color:#F97316;color:#FFFFFF}.btn-secondary{background-color:#333333;color:#EAEAEA}.history-section h2{font-size:1.5rem;font-weight:700;color:#FFFFFF;margin:2rem 0 1rem}.transaction-item{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-bottom:1px solid #333333}.transaction-details .title{font-weight:500;color:#FFFFFF}.transaction-details .subtitle{font-size:.875rem;color:#A0A0A0;margin-top:2px}.transaction-amount{font-weight:600;font-size:1rem}.transaction-amount.positive{color:#22C55E}.transaction-amount.negative{color:#EF4444}</style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    <aside class="sidebar" id="sidebar"><div><h1 class="sidebar-header">CashCoinser</h1><nav class="sidebar-nav"><a href="wallet.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 3a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m15.75-3.375l-4.32-4.32a4.5 4.5 0 00-6.364 0l-4.32 4.32a2.25 2.25 0 000 3.182l4.32 4.32a4.5 4.5 0 006.364 0l4.32-4.32a2.25 2.25 0 000-3.182z"></path></svg><span>Wallet</span></a><a href="referral.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962A3.75 3.75 0 0112 15v-2.25L8.625 15v-2.25A3.75 3.75 0 0112 10.5h.008v.008H12v-.008z"></path></svg><span>Referral</span></a></nav></div><div class="sidebar-footer"><button id="logout-btn">Logout</button></div></aside>
    <header class="header"><button class="icon-btn" id="menu-btn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button><h1>Wallet</h1></header>
    <main>
        <section class="balance-section"><p class="label">Balance</p><p id="balance-amount" class="amount">$0.00</p></section>
        <section class="actions-grid"><a href="withdraw.html" class="btn btn-primary">Withdraw</a><button class="btn btn-secondary">Add Funds</button></section>
        <section class="history-section"><h2>Transaction History</h2><div id="transaction-list"><p style="color:#A0A0A0">Loading history...</p></div></section>
    </main>
    <nav class="bottom-nav">
        <a href="tasks.html" class="nav-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path></svg><span>Tasks</span></a>
        <a href="wallet.html" class="nav-item active"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 3a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m15.75-3.375l-4.32-4.32a4.5 4.5 0 00-6.364 0l-4.32 4.32a2.25 2.25 0 000 3.182l4.32 4.32a4.5 4.5 0 006.364 0l4.32-4.32a2.25 2.25 0 000-3.182z"></path></svg><span>Wallet</span></a>
        <a href="referral.html" class="nav-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"></path></svg><span>Profile</span></a>
    </nav>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
        import { getFirestore, doc, getDoc, collection, query, where, orderBy, getDocs } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";
        const firebaseConfig = { apiKey: "AIzaSyBNy8sZGAKh3Ika7O7F-NLZZZWAU-j2B0A", authDomain: "cashcoinser.firebaseapp.com", projectId: "cashcoinser", storageBucket: "cashcoinser.appspot.com", messagingSenderId: "179560740788", appId: "1:179560740788:web:4d6f5678e80f86899364e1" };
        const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);onAuthStateChanged(auth,e=>{e?loadWalletData(e.uid):window.location.href="login.html"});async function loadWalletData(e){const t=document.getElementById("balance-amount"),r=await getDoc(doc(db,"users",e));r.exists()&&(t.textContent=`$${r.data().balance.toFixed(2)}`);const o=document.getElementById("transaction-list"),n=query(collection(db,"transactions"),where("userId","==",e),orderBy("timestamp","desc")),a=await getDocs(n);if(o.innerHTML="",a.empty)return void(o.innerHTML='<p style="color:#A0A0A0">No transactions yet.</p>');a.forEach(e=>{const t=e.data(),r=t.amount>0,n=r?"+":"",a=r?"positive":"negative",s="task_reward"===t.type?"Completed Task":"Withdrawal";o.innerHTML+=`<div class="transaction-item"><div class="transaction-details"><p class="title">${t.description}</p><p class="subtitle">${s}</p></div><p class="transaction-amount ${a}">${n}$${Math.abs(t.amount).toFixed(2)}</p></div>`})}const menuBtn=document.getElementById("menu-btn"),sidebar=document.getElementById("sidebar"),overlay=document.getElementById("overlay"),logoutBtn=document.getElementById("logout-btn");menuBtn.addEventListener("click",()=>{sidebar.classList.add("open"),overlay.classList.add("visible")}),overlay.addEventListener("click",()=>{sidebar.classList.remove("open"),overlay.classList.remove("visible")}),logoutBtn.addEventListener("click",()=>signOut(auth));
    </script>
</body>
</html>