<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>CashCoinser</title>
    <style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');body{font-family:'Inter',sans-serif;background-color:#121212;color:#EAEAEA;margin:0;padding-top:60px;padding-bottom:80px}.header{position:fixed;top:0;left:0;right:0;display:flex;align-items:center;justify-content:center;padding:1rem;background-color:#1E1E1E;border-bottom:1px solid #333333;z-index:10;height:60px;box-sizing:border-box}.header h1{font-size:1.125rem;font-weight:600;color:#FFFFFF;margin:0}.header .icon-btn{position:absolute;left:1rem;color:#A0A0A0;background:0 0;border:none;cursor:pointer}.header .icon-btn svg{width:24px;height:24px}main{padding:1.5rem}main h2{font-size:1.5rem;font-weight:700;color:#FFFFFF;margin:0 0 1rem}#task-list a{text-decoration:none}.task-card{display:flex;align-items:center;padding:1rem;background-color:#1E1E1E;border-radius:.75rem;border:1px solid #333333;margin-bottom:.75rem;transition:border-color .2s}.task-card:hover{border-color:#F97316}.task-icon{display:flex;align-items:center;justify-content:center;min-width:48px;height:48px;background-color:#333333;border-radius:.5rem;margin-right:1rem;overflow:hidden}.task-icon svg{width:24px;height:24px;color:#A0A0A0}.task-icon img{width:100%;height:100%;object-fit:cover}.task-details{flex-grow:1}.task-details .title{font-weight:600;color:#FFFFFF}.task-details .desc{font-size:.875rem;color:#A0A0A0;margin-top:2px}.task-reward{font-weight:600;color:#FFFFFF;font-size:1rem}.bottom-nav{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-around;padding:.5rem 0;background-color:#1E1E1E;border-top:1px solid #333333;z-index:10}.nav-item{display:flex;flex-direction:column;align-items:center;color:#A0A0A0;text-decoration:none;padding:0 1rem}.nav-item.active{color:#F97316}.nav-item svg{width:24px;height:24px}.nav-item span{font-size:.75rem;margin-top:4px}.sidebar{position:fixed;top:0;left:-300px;width:280px;height:100%;background-color:#1E1E1E;z-index:100;transition:left .3s ease;padding:1.5rem;box-sizing:border-box;border-right:1px solid #333}.sidebar.open{left:0}.sidebar-header{font-size:1.5rem;font-weight:700;color:#FFFFFF;margin-bottom:2rem}.sidebar-nav a{display:flex;align-items:center;gap:1rem;color:#A0A0A0;text-decoration:none;padding:.75rem;border-radius:.5rem;margin-bottom:.5rem;font-weight:500;transition:background-color .2s,color .2s}.sidebar-nav a:hover{background-color:#333333;color:#FFFFFF}.sidebar-nav svg{width:24px;height:24px}.sidebar-footer{margin-top:auto}.sidebar-footer button{width:100%;background-color:#F97316;color:#FFFFFF;border:none;padding:.75rem;border-radius:.5rem;font-weight:600;cursor:pointer}.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99;opacity:0;visibility:hidden;transition:opacity .3s ease}.overlay.visible{opacity:1;visibility:visible}</style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    <aside class="sidebar" id="sidebar">
        <div><h1 class="sidebar-header">CashCoinser</h1><nav class="sidebar-nav"><a href="wallet.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 3a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m15.75-3.375l-4.32-4.32a4.5 4.5 0 00-6.364 0l-4.32 4.32a2.25 2.25 0 000 3.182l4.32 4.32a4.5 4.5 0 006.364 0l4.32-4.32a2.25 2.25 0 000-3.182z"></path></svg><span>Wallet</span></a><a href="referral.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962A3.75 3.75 0 0112 15v-2.25L8.625 15v-2.25A3.75 3.75 0 0112 10.5h.008v.008H12v-.008z"></path></svg><span>Referral</span></a></nav></div>
        <div class="sidebar-footer"><button id="logout-btn">Logout</button></div>
    </aside>
    <header class="header">
        <button class="icon-btn" id="menu-btn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button>
        <h1>CashCoinser</h1>
    </header>
    <main><h2 id="welcome-message">Available Tasks</h2><div id="task-list"><p style="color:#A0A0A0">Loading tasks...</p></div></main>
    <nav class="bottom-nav">
        <a href="tasks.html" class="nav-item active"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path></svg><span>Tasks</span></a>
        <a href="wallet.html" class="nav-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 3a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m15.75-3.375l-4.32-4.32a4.5 4.5 0 00-6.364 0l-4.32 4.32a2.25 2.25 0 000 3.182l4.32 4.32a4.5 4.5 0 006.364 0l4.32-4.32a2.25 2.25 0 000-3.182z"></path></svg><span>Wallet</span></a>
        <a href="referral.html" class="nav-item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"></path></svg><span>Profile</span></a>
    </nav>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
        import { getFirestore, collection, getDocs, doc, getDoc, query, orderBy } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";
        const firebaseConfig = { apiKey: "AIzaSyBNy8sZGAKh3Ika7O7F-NLZZZWAU-j2B0A", authDomain: "cashcoinser.firebaseapp.com", projectId: "cashcoinser", storageBucket: "cashcoinser.appspot.com", messagingSenderId: "179560740788", appId: "1:179560740788:web:4d6f5678e80f86899364e1" };
        const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),taskListEl=document.getElementById("task-list"),welcomeMessage=document.getElementById("welcome-message");onAuthStateChanged(auth,e=>{e?(getDoc(doc(db,"users",e.uid)).then(e=>{e.exists()&&(welcomeMessage.textContent=`Welcome, ${e.data().name}!`)}),loadTasks()):window.location.href="login.html"});const iconMap={video:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z" /></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" /></svg>',survey:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75c0-.231-.035-.454-.1-.664M6.75 7.5h10.5a2.25 2.25 0 012.25 2.25v7.5a2.25 2.25 0 01-2.25-2.25H6.75a2.25 2.25 0 01-2.25-2.25v-7.5a2.25 2.25 0 012.25-2.25z" /></svg>',default:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h16.5v11.25c0 1.242-.93 2.34-2.186 2.573" /></svg>'};async function loadTasks(){const e=query(collection(db,"tasks"),orderBy("createdAt","desc")),t=await getDocs(e);if(taskListEl.innerHTML="",t.empty)return void(taskListEl.innerHTML='<p style="color:#A0A0A0">No tasks available.</p>');t.forEach(e=>{const t=e.data();let r=t.imageUrl?`<img src="${t.imageUrl}" alt="${t.title}">`:iconMap[t.category]||iconMap.default,o=`<a href="task-view.html?id=${e.id}"><div class="task-card"><div class="task-icon">${r}</div><div class="task-details"><p class="title">${t.title}</p><p class="desc">${t.description}</p></div><p class="task-reward">$${t.reward.toFixed(2)}</p></div></a>`;taskListEl.innerHTML+=o})}const menuBtn=document.getElementById("menu-btn"),sidebar=document.getElementById("sidebar"),overlay=document.getElementById("overlay"),logoutBtn=document.getElementById("logout-btn");menuBtn.addEventListener("click",()=>{sidebar.classList.add("open"),overlay.classList.add("visible")}),overlay.addEventListener("click",()=>{sidebar.classList.remove("open"),overlay.classList.remove("visible")}),logoutBtn.addEventListener("click",()=>signOut(auth));
    </script>
</body>
</html>